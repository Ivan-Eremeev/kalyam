$(document).ready(function(){var e,t,a,s,n,i,o,l,c,r,d,u,m,v,p,h,f,k,g,C,w,_,b;function T(){$(window).width()<=m?r.appendTo(d):r.appendTo(u)}function y(e,s=!0){e.each(function(){var e=$(this),t=e.find(".order__trigger"),a=e.find(".order__drop");e.find("input").on("change",function(){1==s&&(a.find("li").removeClass("hide"),$(this).parent("li").addClass("hide")),t.find("span").text($(this).siblings("label").text()),t.removeClass("is-active"),a.removeClass("open")})})}function S(e,t){e.on("input",function(){t.text($(this).val())})}function j(e,t){e.bind("DOMSubtreeModified",function(){t.text($(this).text().toLowerCase())})}function x(){var e=b.find("input:checked").val();_.hide(),$(".js-"+e).show()}(e=$(".js-welcome-slider ")).length&&e.slick({slidesToShow:1,slidesToScroll:1,fade:!0,dots:!0,arrows:!1,autoplay:!0,autoplaySpeed:2e3,infinite:!1,adaptiveHeight:!1,swipe:!0,draggable:!0}),t=$("#product-slider"),a=$("#product-slider-nav"),t.length&&(t.slick({slidesToShow:1,slidesToScroll:1,asNavFor:a,dots:!1,arrows:!1,infinite:!1,swipe:!0,draggable:!0}),a.slick({slidesToShow:3,slidesToScroll:1,dots:!1,arrows:!1,asNavFor:t,focusOnSelect:!0,infinite:!1})),$(".accordion").length&&$(".accordion").each(function(){var a=$(this),e=a.find(".accordion__trigger");e.on("click",function(){var e=$(this),t=e.data("trigger");e.hasClass("active")?(e.removeClass("active"),a.find("#"+t).stop().slideUp(300,function(){$(this).removeClass("open")})):(e.addClass("active"),a.find("#"+t).stop().slideDown(300,function(){$(this).addClass("open")}))})}),s=$(".js-drop-btn"),i=n=void 0,o=$(".js-drop-close"),s.on("click",function(){n=$(this),i=$("#"+n.data("drop")),n.toggleClass("is-active"),i.toggleClass("open"),$(document).mouseup(function(e){n.is(e.target)||0!==n.has(e.target).length||i.is(e.target)||0!==i.has(e.target).length||(n.removeClass("is-active"),i.removeClass("open"))})}),o.on("click",function(){$('[data-drop="'+$(this).data("drop")+'"]').removeClass("is-active"),$("#"+$(this).data("drop")).removeClass("open")}),l=$(".js-search-slide"),(c=l.find("button")).on("click",function(e){return $(window).width()<=500&&(e.preventDefault(),void(c.hasClass("active")?(c.removeClass("active"),l.removeClass("open")):(c.addClass("active"),l.addClass("open"))))}),$(window).resize(function(){return 500<$(window).width()&&(c.removeClass("active"),void l.removeClass("open"))}),$(document).mouseup(function(e){l.is(e.target)||0!==l.has(e.target).length||(c.removeClass("active"),l.removeClass("open"))}),$(".mask-tel").length&&$(".mask-tel").inputmask("+9(999) 999-99-99"),$(".mask-email").length&&$(".mask-email").inputmask("*{1,20}[.*{1,20}][.*{1,20}][.*{1,20}]@*{1,20}[.*{2,6}][.*{1,2}]"),$(".mask-verify").length&&$(".mask-verify").inputmask("999-999"),$(".mask-cardnum").length&&$(".mask-cardnum").inputmask("9999 9999 9999 9999"),$(".mask-date").length&&$(".mask-date").inputmask("99/99"),$(".mask-cvc").length&&$(".mask-cvc").inputmask("999"),$(".mask-street").length&&$(".mask-street").inputmask("ул. a{1,20} дом.9{1,3}"),$(".mask-entrance").length&&$(".mask-entrance").inputmask("99"),$(".mask-floor").length&&$(".mask-floor").inputmask("99"),$(".mask-kv").length&&$(".mask-kv").inputmask("999"),$(".scrollbar-inner").length&&$(".scrollbar-inner").scrollbar({autoScrollSize:!1}),r=$("#active-orders"),d=$("#to"),u=$("#from"),m=1200,T(),$(window).resize(function(){T()}),v=$(".filters__view"),p=$(".card"),h=$(".category__col"),v.on("click",function(){if($(this).hasClass("active"))return!1;var e=$(this);"viewTile"==e.attr("id")?(v.removeClass("active"),e.addClass("active"),p.removeClass("card--list"),h.removeClass("category__col--list")):"viewList"==e.attr("id")&&(v.removeClass("active"),e.addClass("active"),p.addClass("card--list"),h.addClass("category__col--list"))}),$(".card__addcart-count").length&&$(".card__addcart-count").each(function(){var e=$(this),t=e.find(".card__count-input"),a=e.find(".card__count-btn--plus"),e=e.find(".card__count-btn--minus"),s=1;t.inputmask({mask:"9{1,3} шт",placeholder:"1"}),t.on("change",function(){s=t.inputmask("unmaskedvalue")}),a.on("click",function(){s<999&&(s++,t.inputmask("setvalue",s))}),e.on("click",function(){1<s&&(s--,t.inputmask("setvalue",s))})}),$("#datepicker").length&&($("#datepicker").on("input",function(e){e.target.value=""}),f=$("#datepicker").datepicker({showOtherYears:!1,selectOtherYears:!1,onSelect:function(e){$("#datepickerTo").text(e)}}).data("datepicker"),$(".datepicker--content").append('<div class="btn">Готово</div>'),$(".datepicker").find(".btn").on("click",function(){f.hide()})),y($(".js-select")),y($(".js-select-nohide"),!1),k=$("#menu-catalog"),g=$(".menu-catalog__next"),C=$(".menu-catalog__sublist"),w=$(".menu-catalog__close"),g.on("click",function(){$(this).siblings(".menu-catalog__sublist").addClass("open")}),w.on("click",function(){(C.hasClass("open")?C:k).removeClass("open")}),$(window).resize(function(){769<=$(window).width()&&(C.removeClass("open"),k.removeClass("open"),$('[data-drop="menu-catalog"]').removeClass("is-active"))}),S($("#name"),$("#nameTo")),S($("#tel"),$("#telTo")),S($("#street"),$("#streetTo")),S($("#kv"),$("#kvTo")),S($("#floor"),$("#floorTo")),S($("#entrance"),$("#entranceTo")),j($("#time"),$("#timeTo")),j($("#delivery"),$("#deliveryTo")),j($("#pay"),$("#payTo")),_=$(".js-toggle"),b=$("#toggle-block"),x(),b.find("input").on("change",x)});